{"title":"Computing - Amazon EC2 Cost \"Analysis\"","markdown":{"yaml":{"author":"Sam White","toc-title":"Contents","toc-depth":5,"toc-location":"left","date":"2016-08-01 19:21:13+00:00","layout":"post","slug":"computing-amazon-ec2-cost-analysis","title":"Computing - Amazon EC2 Cost \"Analysis\"","categories":["2016","computing","EC2","Xserve"]},"containsRefs":false,"markdown":"\n\nI recently moved some computing jobs over to Amazon's Elastic Cloud Computing (EC2) in attempt to avoid some odd computing issues/errors I kept encountering on our lab computers (Apple Xserve 3,1).\n\nThe big trade off here is that the lab computers are paid for and using EC2 means we'll be sinking more money into computing resources. With that expense should come faster processing (i.e. less time) to perform various analyses. As they say, time is money...\n\nLet's look at how things've worked out so far.\n\n\n\nFirst, how much did we spend and how did we spend it (click on the image to enlarge)?\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160801_AmazonEC2_costs.jpg)(http://eagle.fish.washington.edu/Arabidopsis/20160801_AmazonEC2_costs.jpg)\n\n\n\nOf course, it's easy to see that for the instance I was running, it cost us $0.419/hr. That's great and all, but you sort of lose sense of what that ends up costing over the long-term. Let's look at how things break out over a larger time scale.\n\nAccording to Amazon's (very useful!) billing breakdown, we spent $187 in the month of July 2016. This doesn't seem too bad. In fact, this would only cost us ~$2200/yr if we continue to run this instance in this fashion. However, let's look at it a bit further.\n\nWe see that the instance ran for a total of 374 hrs during July 2016. Divide that by 24hrs/day and we see that the instance was running for 15.6 days; just over half the month. That means we would've spent ~$374 for the full month, which would equate to $4488/yr. For our lab, that kind of money starts to add up and one starts to wonder if it wouldn't be better to invest in higher end hardware to use in the lab with a single \"sunk\" cost that will last us many, many years.\n\nRegardless, with the lab's current computing hardware, we should compare another factor that's involved with the expense of using Amazon EC2 instead of our lab computers: time.\n\nI performed a very rough \"guestimation\" of the time savings that EC2 has provided us.\n\n\n\nI compared the length of \"real\" time for the first step in the PyRad program using the same data set on one of our lab computers (roadrunner) and the Amazon EC2 instance:\n\n\n\n\n\n  * roadrunner: 1118 minutes\n\n\n\n  * EC2: 771 minutes\n\n\n\n\n\n\n\n\nRoadrunner is nearly 1.5x slower than the EC2 instance! To really appreciate what type of impact that has, we should look at the run time for the full PyRad analysis:\n\n\n\n\n\n  * roadrunner: 5546 minutes (NOTE: Due to incomplete analysis, roadrunner time is \"guestimated\" as 1.45 x EC2; see below)\n\n\n\n  * EC2: 3825 minutes\n\n\n\n\n\n\n\n\nLet's convert those numbers into something more easily understood - hours and days:\n\n\n\n\n\n  * roadrunner: 95hrs\n\n\n\n  * roadrunner: ~4 days\n\n\n\n  * EC2: 63hrs\n\n\n\n  * EC2: ~2.6 days\n\n\n\n\n\n\n\n\nOf course, these times don't take into account any technical issues that we might encounter (and I have encountered many technical issues using roadrunner) on either platform, but I can tell you that I've not had any headaches using EC2 (other than unintentional, self-imposed ones).\n\n\n\nAnother potential option is trying out InsideDNA. They offer cloud computing services that are specifically geared towards high-throughput bioinformatics analysis. They have many, many bioinformatics tools already installed and available to use on their platform. Additionally, they have nice tutorials on how to use some of these tools, which goes a long ways in getting started on any analyses using new software. Here are the various pricing tiers that they offer:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160801_insideDNA_pricing.jpg)(http://eagle.fish.washington.edu/Arabidopsis/20160801_insideDNA_pricing.jpg)\n\n\n\n\n\nThe \"Advanced\" tier ($100/month) certainly seems like it could potentially be better than using Amazon. However, this tier only offers 500GB of storage. If you look up above at the Amazon pricing breakdown, you'll notice that I've already used 466GB of storage for just that one experiment! Additionally, the 1000 CPU hours seems great, but remember, this is likely divided by the number of CPUs that you end up using. The Amazon EC2 instance was running eight cores. If I were to run a similar set up on InsideDNA, that would amount to 125 CPU hours per core. Again, looking up above, we see that I ran the EC2 instance for 374 hours! That means the \"Advanced\" tier on InsideDNA wouldn't be enough to get our jobs done.\n\n\n\nAnyway, in the grand scheme of things, using an Amazon EC2 instance periodically as we need it throughout the year isn't terrible. However, if we start using the University of Washington Hyak computing cluster we may be able to avoid spending on EC2 and be able to have similar time savings (compared to using the lab computers). Need to get cracking on that...\n","srcMarkdownNoYaml":"\n\nI recently moved some computing jobs over to Amazon's Elastic Cloud Computing (EC2) in attempt to avoid some odd computing issues/errors I kept encountering on our lab computers (Apple Xserve 3,1).\n\nThe big trade off here is that the lab computers are paid for and using EC2 means we'll be sinking more money into computing resources. With that expense should come faster processing (i.e. less time) to perform various analyses. As they say, time is money...\n\nLet's look at how things've worked out so far.\n\n\n\nFirst, how much did we spend and how did we spend it (click on the image to enlarge)?\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160801_AmazonEC2_costs.jpg)(http://eagle.fish.washington.edu/Arabidopsis/20160801_AmazonEC2_costs.jpg)\n\n\n\nOf course, it's easy to see that for the instance I was running, it cost us $0.419/hr. That's great and all, but you sort of lose sense of what that ends up costing over the long-term. Let's look at how things break out over a larger time scale.\n\nAccording to Amazon's (very useful!) billing breakdown, we spent $187 in the month of July 2016. This doesn't seem too bad. In fact, this would only cost us ~$2200/yr if we continue to run this instance in this fashion. However, let's look at it a bit further.\n\nWe see that the instance ran for a total of 374 hrs during July 2016. Divide that by 24hrs/day and we see that the instance was running for 15.6 days; just over half the month. That means we would've spent ~$374 for the full month, which would equate to $4488/yr. For our lab, that kind of money starts to add up and one starts to wonder if it wouldn't be better to invest in higher end hardware to use in the lab with a single \"sunk\" cost that will last us many, many years.\n\nRegardless, with the lab's current computing hardware, we should compare another factor that's involved with the expense of using Amazon EC2 instead of our lab computers: time.\n\nI performed a very rough \"guestimation\" of the time savings that EC2 has provided us.\n\n\n\nI compared the length of \"real\" time for the first step in the PyRad program using the same data set on one of our lab computers (roadrunner) and the Amazon EC2 instance:\n\n\n\n\n\n  * roadrunner: 1118 minutes\n\n\n\n  * EC2: 771 minutes\n\n\n\n\n\n\n\n\nRoadrunner is nearly 1.5x slower than the EC2 instance! To really appreciate what type of impact that has, we should look at the run time for the full PyRad analysis:\n\n\n\n\n\n  * roadrunner: 5546 minutes (NOTE: Due to incomplete analysis, roadrunner time is \"guestimated\" as 1.45 x EC2; see below)\n\n\n\n  * EC2: 3825 minutes\n\n\n\n\n\n\n\n\nLet's convert those numbers into something more easily understood - hours and days:\n\n\n\n\n\n  * roadrunner: 95hrs\n\n\n\n  * roadrunner: ~4 days\n\n\n\n  * EC2: 63hrs\n\n\n\n  * EC2: ~2.6 days\n\n\n\n\n\n\n\n\nOf course, these times don't take into account any technical issues that we might encounter (and I have encountered many technical issues using roadrunner) on either platform, but I can tell you that I've not had any headaches using EC2 (other than unintentional, self-imposed ones).\n\n\n\nAnother potential option is trying out InsideDNA. They offer cloud computing services that are specifically geared towards high-throughput bioinformatics analysis. They have many, many bioinformatics tools already installed and available to use on their platform. Additionally, they have nice tutorials on how to use some of these tools, which goes a long ways in getting started on any analyses using new software. Here are the various pricing tiers that they offer:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160801_insideDNA_pricing.jpg)(http://eagle.fish.washington.edu/Arabidopsis/20160801_insideDNA_pricing.jpg)\n\n\n\n\n\nThe \"Advanced\" tier ($100/month) certainly seems like it could potentially be better than using Amazon. However, this tier only offers 500GB of storage. If you look up above at the Amazon pricing breakdown, you'll notice that I've already used 466GB of storage for just that one experiment! Additionally, the 1000 CPU hours seems great, but remember, this is likely divided by the number of CPUs that you end up using. The Amazon EC2 instance was running eight cores. If I were to run a similar set up on InsideDNA, that would amount to 125 CPU hours per core. Again, looking up above, we see that I ran the EC2 instance for 374 hours! That means the \"Advanced\" tier on InsideDNA wouldn't be enough to get our jobs done.\n\n\n\nAnyway, in the grand scheme of things, using an Amazon EC2 instance periodically as we need it throughout the year isn't terrible. However, if we start using the University of Washington Hyak computing cluster we may be able to avoid spending on EC2 and be able to have similar time savings (compared to using the lab computers). Need to get cracking on that...\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"toc-depth":5,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"source","theme":"darkly","page-layout":"full","code-background":true,"code-copy":true,"title-block-banner":true,"author":"Sam White","toc-title":"Contents","toc-location":"left","date":"2016-08-01 19:21:13+00:00","layout":"post","slug":"computing-amazon-ec2-cost-analysis","title":"Computing - Amazon EC2 Cost \"Analysis\"","categories":["2016","computing","EC2","Xserve"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}