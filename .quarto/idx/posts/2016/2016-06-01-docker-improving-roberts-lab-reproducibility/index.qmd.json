{"title":"Docker - Improving Roberts Lab Reproducibility","markdown":{"yaml":{"author":"Sam White","toc-title":"Contents","toc-depth":5,"toc-location":"left","date":"2016-06-01 19:06:24+00:00","layout":"post","slug":"docker-improving-roberts-lab-reproducibility","title":"Docker - Improving Roberts Lab Reproducibility","categories":["2016","Computer Servicing"],"tags":["computing","docker","dockerfile","jupyter notebook","R","R Studio","reproducibility"]},"containsRefs":false,"markdown":"\n\nIn an attempt at furthering our lab's abilities to maximize our reproducibility, I've been  working on developing an all-encompassing Docker image. Docker is a type of virtual machine (i.e. a self-contained computer that runs within your computer). For the Roberts Lab, the advantage of using Docker is that the Docker images can be customized to run a specific suite of software and these images can then be used by any other person in the lab (assuming they can run Docker on their particular operating system), regardless of operating system. In turn, if everyone is using the same Docker image (i.e. the same virtual machine with all the same software), then we should be able to reproduce data analyses more reliably, due to the fact that there won't be differences between software versions that people are using. Additionally, using Docker greatly simplifies the setup of new computers with the requisite software.\n\nI've put together a Dockerfile (a Dockerfile is a text file/script that Docker uses to retrieve software and build a computer image with those specific instructions) which will automatically build a Docker image (i.e. virtual computer) that contains all of the normal bioinformatics software our lab uses. This has been a side project while I wait for Stacks analysis to complete (or, fail, depending on the day) and it's finally usable! The image that is built from this Dockerfile will even let the user run R Studio and/or Jupyter Notebooks in their browser (I'm excited about this part)!\n\nHere's the current list of software that will be installed:\n\n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" >\n<tbody >\n<tr >\n\n<td id=\"LC13\" class=\"blob-code blob-code-inner js-file-line\" >bedtools 2.25.0\n</td>\n</tr>\n</tbody>\n</table>\n\n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" >\n<tbody >\n<tr >\n\n<td id=\"LC14\" class=\"blob-code blob-code-inner js-file-line\" >bismark 0.15.0\n</td>\n</tr>\n<tr >\n\n<td id=\"LC15\" class=\"blob-code blob-code-inner js-file-line\" >blast 2.3.0+\n</td>\n</tr>\n<tr >\n\n<td id=\"LC16\" class=\"blob-code blob-code-inner js-file-line\" >bowtie2 2.2.8\n</td>\n</tr>\n<tr >\n\n<td id=\"LC17\" class=\"blob-code blob-code-inner js-file-line\" >bsmap 2.90\n</td>\n</tr>\n<tr >\n\n<td id=\"LC18\" class=\"blob-code blob-code-inner js-file-line\" >cufflinks 2.1.1\n</td>\n</tr>\n<tr >\n\n<td id=\"LC19\" class=\"blob-code blob-code-inner js-file-line\" >fastqc 0.11.5\n</td>\n</tr>\n<tr >\n\n<td id=\"LC20\" class=\"blob-code blob-code-inner js-file-line\" >fastx_toolkit 0.0.13\n</td>\n</tr>\n<tr >\n\n<td id=\"LC21\" class=\"blob-code blob-code-inner js-file-line\" >R 3.2.5\n</td>\n</tr>\n<tr >\n\n<td id=\"LC22\" class=\"blob-code blob-code-inner js-file-line\" >RStudio Server0.99\n</td>\n</tr>\n<tr >\n\n<td id=\"LC23\" class=\"blob-code blob-code-inner js-file-line\" >pyrad 3.0.66\n</td>\n</tr>\n<tr >\n\n<td id=\"LC24\" class=\"blob-code blob-code-inner js-file-line\" >samtools 0.1.19\n</td>\n</tr>\n<tr >\n\n<td id=\"LC25\" class=\"blob-code blob-code-inner js-file-line\" >stacks 1.40\n</td>\n</tr>\n<tr >\n\n<td id=\"LC26\" class=\"blob-code blob-code-inner js-file-line\" >tophat 2.1.1\n</td>\n</tr>\n</tbody>\n</table>\n\n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" >\n<tbody >\n<tr >\n\n<td id=\"LC27\" class=\"blob-code blob-code-inner js-file-line\" >trimmomatic 0.36\n</td>\n</tr>\n</tbody>\n</table>\n\nIn order to set this up, you need to install [Docker](https://www.docker.com/) and download the Dockerfile ([Dockerfile.bio](https://github.com/sr320/LabDocs/tree/master/code/dockerfiles)) I've created.\n\nI've written a bit of a user guide (specific to this Dockerfile) here to get people started: [docker.md](https://github.com/sr320/LabDocs/blob/master/code/docker.md)\n\nThe user guide explains a bit how all of this works and tries to progress from a \"basic\" this-is-how-to-get-started-with-Docker to an \"advanced\" description of how to map ports, mount local volumes in your containers, and how to start/attach previously used containers.\n\nThe next major goal I have with this Docker project is to get the R kernel installed for Jupyter Notebooks. Currently, the Jupyter Notebook installation is restricted to the default Python 2 kernel.\n\nAdditionally, I'd like to improve the usability of the Docker image by setting up aliases in the image. Meaning, a user who wants to use the bowtie program can just type \"bowtie\". Currently, the user has to type \"bowtie2_2.2.8\" (although, with this being in the system PATH and tab-completion, it's not that big of a deal), which is a bit ugly.\n\nFor some next level stuff, I'd also like to setup all Roberts Lab computers to automatically launch the Docker image when the user opens a terminal. This would greatly simplify things for new lab members. They wouldn't have to deal with going through the various Docker commands to start a Docker container. Instead, their terminal would just put them directly into the container and the user would be none-the-wiser. They'd be reproducibly conducting data analysis without even having to think about it.\n","srcMarkdownNoYaml":"\n\nIn an attempt at furthering our lab's abilities to maximize our reproducibility, I've been  working on developing an all-encompassing Docker image. Docker is a type of virtual machine (i.e. a self-contained computer that runs within your computer). For the Roberts Lab, the advantage of using Docker is that the Docker images can be customized to run a specific suite of software and these images can then be used by any other person in the lab (assuming they can run Docker on their particular operating system), regardless of operating system. In turn, if everyone is using the same Docker image (i.e. the same virtual machine with all the same software), then we should be able to reproduce data analyses more reliably, due to the fact that there won't be differences between software versions that people are using. Additionally, using Docker greatly simplifies the setup of new computers with the requisite software.\n\nI've put together a Dockerfile (a Dockerfile is a text file/script that Docker uses to retrieve software and build a computer image with those specific instructions) which will automatically build a Docker image (i.e. virtual computer) that contains all of the normal bioinformatics software our lab uses. This has been a side project while I wait for Stacks analysis to complete (or, fail, depending on the day) and it's finally usable! The image that is built from this Dockerfile will even let the user run R Studio and/or Jupyter Notebooks in their browser (I'm excited about this part)!\n\nHere's the current list of software that will be installed:\n\n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" >\n<tbody >\n<tr >\n\n<td id=\"LC13\" class=\"blob-code blob-code-inner js-file-line\" >bedtools 2.25.0\n</td>\n</tr>\n</tbody>\n</table>\n\n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" >\n<tbody >\n<tr >\n\n<td id=\"LC14\" class=\"blob-code blob-code-inner js-file-line\" >bismark 0.15.0\n</td>\n</tr>\n<tr >\n\n<td id=\"LC15\" class=\"blob-code blob-code-inner js-file-line\" >blast 2.3.0+\n</td>\n</tr>\n<tr >\n\n<td id=\"LC16\" class=\"blob-code blob-code-inner js-file-line\" >bowtie2 2.2.8\n</td>\n</tr>\n<tr >\n\n<td id=\"LC17\" class=\"blob-code blob-code-inner js-file-line\" >bsmap 2.90\n</td>\n</tr>\n<tr >\n\n<td id=\"LC18\" class=\"blob-code blob-code-inner js-file-line\" >cufflinks 2.1.1\n</td>\n</tr>\n<tr >\n\n<td id=\"LC19\" class=\"blob-code blob-code-inner js-file-line\" >fastqc 0.11.5\n</td>\n</tr>\n<tr >\n\n<td id=\"LC20\" class=\"blob-code blob-code-inner js-file-line\" >fastx_toolkit 0.0.13\n</td>\n</tr>\n<tr >\n\n<td id=\"LC21\" class=\"blob-code blob-code-inner js-file-line\" >R 3.2.5\n</td>\n</tr>\n<tr >\n\n<td id=\"LC22\" class=\"blob-code blob-code-inner js-file-line\" >RStudio Server0.99\n</td>\n</tr>\n<tr >\n\n<td id=\"LC23\" class=\"blob-code blob-code-inner js-file-line\" >pyrad 3.0.66\n</td>\n</tr>\n<tr >\n\n<td id=\"LC24\" class=\"blob-code blob-code-inner js-file-line\" >samtools 0.1.19\n</td>\n</tr>\n<tr >\n\n<td id=\"LC25\" class=\"blob-code blob-code-inner js-file-line\" >stacks 1.40\n</td>\n</tr>\n<tr >\n\n<td id=\"LC26\" class=\"blob-code blob-code-inner js-file-line\" >tophat 2.1.1\n</td>\n</tr>\n</tbody>\n</table>\n\n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" >\n<tbody >\n<tr >\n\n<td id=\"LC27\" class=\"blob-code blob-code-inner js-file-line\" >trimmomatic 0.36\n</td>\n</tr>\n</tbody>\n</table>\n\nIn order to set this up, you need to install [Docker](https://www.docker.com/) and download the Dockerfile ([Dockerfile.bio](https://github.com/sr320/LabDocs/tree/master/code/dockerfiles)) I've created.\n\nI've written a bit of a user guide (specific to this Dockerfile) here to get people started: [docker.md](https://github.com/sr320/LabDocs/blob/master/code/docker.md)\n\nThe user guide explains a bit how all of this works and tries to progress from a \"basic\" this-is-how-to-get-started-with-Docker to an \"advanced\" description of how to map ports, mount local volumes in your containers, and how to start/attach previously used containers.\n\nThe next major goal I have with this Docker project is to get the R kernel installed for Jupyter Notebooks. Currently, the Jupyter Notebook installation is restricted to the default Python 2 kernel.\n\nAdditionally, I'd like to improve the usability of the Docker image by setting up aliases in the image. Meaning, a user who wants to use the bowtie program can just type \"bowtie\". Currently, the user has to type \"bowtie2_2.2.8\" (although, with this being in the system PATH and tab-completion, it's not that big of a deal), which is a bit ugly.\n\nFor some next level stuff, I'd also like to setup all Roberts Lab computers to automatically launch the Docker image when the user opens a terminal. This would greatly simplify things for new lab members. They wouldn't have to deal with going through the various Docker commands to start a Docker container. Instead, their terminal would just put them directly into the container and the user would be none-the-wiser. They'd be reproducibly conducting data analysis without even having to think about it.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"toc-depth":5,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"source","theme":"darkly","page-layout":"full","code-background":true,"code-copy":true,"title-block-banner":true,"author":"Sam White","toc-title":"Contents","toc-location":"left","date":"2016-06-01 19:06:24+00:00","layout":"post","slug":"docker-improving-roberts-lab-reproducibility","title":"Docker - Improving Roberts Lab Reproducibility","categories":["2016","Computer Servicing"],"tags":["computing","docker","dockerfile","jupyter notebook","R","R Studio","reproducibility"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}