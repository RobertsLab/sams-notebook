{"title":"Docker - VirtualBox Defaults on OS X","markdown":{"yaml":{"author":"Sam White","toc-title":"Contents","toc-depth":5,"toc-location":"left","date":"2016-06-14 18:10:13+00:00","layout":"post","slug":"docker-virtualbox-defaults-on-os-x","title":"Docker - VirtualBox Defaults on OS X","categories":["2016","Computer Servicing"],"tags":["docker","OS X","roadrunner","virtualbox","Xserve"]},"headingText":"Shutdown VirtualBox machine before you can make changes:","containsRefs":false,"markdown":"\n\nI noticed a discrepancy between what system info is detected natively on Roadrunner (Apple Xserve) and what was being shown when I started a Docker container.\n\nHere's what Roadrunner's system info looks like outside of a Docker container:\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_system.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_system.png)\n\n\n\nHowever, here's what is seen when running a Docker container:\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_default_system.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_default_system.png)\n\n\n\n\n\nIt's important to notice the that the Docker container is only seeing 2 CPUs. Ideally, the Docker container would see that this system has 8 cores available. By default, however, it does not. In order to remedy this, the user has to adjust settings in VirtualBox. VirtualBox is a virtual machine thingy that gets installed with the Docker Toolbox for OS X. Apparently, Docker runs within VirtualBox, but this is not really transparent to a beginner Docker user on OS X.\n\nTo change the way VirtualBox (and, in turn, Docker) can access the full system hardware, you must launch the VirtualBox application (if you installed Docker using Docker Toolbox, you should be able to find this in your Applications folder). Once you've launched VirtualBox, you'll have to turn off the virtual machine that's currently running. Once that's been accomplished, you can make changes and then restart the virtual machine.\n\n\n\n\n\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_shutdown.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_shutdown.png)\n\n\n\n\n\n## \n\n\n\n\n\n## Here are the default CPU settings that VirtualBox is using:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_cpus.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_cpus.png)\n\n\n\n\n\n\n\n## Maxed out the CPU slider:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_eight_cpus.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_eight_cpus.png)\n\n\n\n\n\n\n\n\n\n## Here are the default RAM settings that VirtualBox is using:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_RAM.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_RAM.png)\n\n\n\n\n\n\n\n\n\n## Changed RAM slider to 24GB:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_24GB_RAM.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_24GB_RAM.png)\n\n\n\n\n\n\n\n\n\n## Now, let's see what the Docker container reports for system info after making these changes:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_new_system.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_new_system.png)\n\n\n\nLooking at the CPUs now, we see it has 8 listed (as opposed to only 2 initially). I think this means that Docker now has full access to the hardware on this machine.\n\nThis situation is a weird shortcoming of Docker (and/or VirtualBox). Additionally, I think this issue might only exist on the OS X and Windows versions of Docker, since they require the installation of the Docker Toolbox (which installs VirtualBox). I don't think Linux installations suffer from this issue.\n","srcMarkdownNoYaml":"\n\nI noticed a discrepancy between what system info is detected natively on Roadrunner (Apple Xserve) and what was being shown when I started a Docker container.\n\nHere's what Roadrunner's system info looks like outside of a Docker container:\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_system.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_system.png)\n\n\n\nHowever, here's what is seen when running a Docker container:\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_default_system.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_default_system.png)\n\n\n\n\n\nIt's important to notice the that the Docker container is only seeing 2 CPUs. Ideally, the Docker container would see that this system has 8 cores available. By default, however, it does not. In order to remedy this, the user has to adjust settings in VirtualBox. VirtualBox is a virtual machine thingy that gets installed with the Docker Toolbox for OS X. Apparently, Docker runs within VirtualBox, but this is not really transparent to a beginner Docker user on OS X.\n\nTo change the way VirtualBox (and, in turn, Docker) can access the full system hardware, you must launch the VirtualBox application (if you installed Docker using Docker Toolbox, you should be able to find this in your Applications folder). Once you've launched VirtualBox, you'll have to turn off the virtual machine that's currently running. Once that's been accomplished, you can make changes and then restart the virtual machine.\n\n\n\n\n\n## Shutdown VirtualBox machine before you can make changes:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_shutdown.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_shutdown.png)\n\n\n\n\n\n## \n\n\n\n\n\n## Here are the default CPU settings that VirtualBox is using:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_cpus.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_cpus.png)\n\n\n\n\n\n\n\n## Maxed out the CPU slider:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_eight_cpus.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_eight_cpus.png)\n\n\n\n\n\n\n\n\n\n## Here are the default RAM settings that VirtualBox is using:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_RAM.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_default_RAM.png)\n\n\n\n\n\n\n\n\n\n## Changed RAM slider to 24GB:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_24GB_RAM.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_virtualbox_24GB_RAM.png)\n\n\n\n\n\n\n\n\n\n## Now, let's see what the Docker container reports for system info after making these changes:\n\n\n\n![](https://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_new_system.png)(http://eagle.fish.washington.edu/Arabidopsis/20160613_roadrunner_docker_new_system.png)\n\n\n\nLooking at the CPUs now, we see it has 8 listed (as opposed to only 2 initially). I think this means that Docker now has full access to the hardware on this machine.\n\nThis situation is a weird shortcoming of Docker (and/or VirtualBox). Additionally, I think this issue might only exist on the OS X and Windows versions of Docker, since they require the installation of the Docker Toolbox (which installs VirtualBox). I don't think Linux installations suffer from this issue.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"toc-depth":5,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"source","theme":"darkly","page-layout":"full","code-background":true,"code-copy":true,"title-block-banner":true,"author":"Sam White","toc-title":"Contents","toc-location":"left","date":"2016-06-14 18:10:13+00:00","layout":"post","slug":"docker-virtualbox-defaults-on-os-x","title":"Docker - VirtualBox Defaults on OS X","categories":["2016","Computer Servicing"],"tags":["docker","OS X","roadrunner","virtualbox","Xserve"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}