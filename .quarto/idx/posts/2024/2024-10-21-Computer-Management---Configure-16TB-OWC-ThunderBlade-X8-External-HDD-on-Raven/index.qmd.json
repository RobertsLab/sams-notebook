{"title":"Computer Management - Configure 16TB OWC ThunderBlade X8 External HDD on Raven","markdown":{"yaml":{"author":"Sam White","toc-title":"Contents","toc-depth":5,"toc-location":"left","title":"Computer Management - Configure 16TB OWC ThunderBlade X8 External HDD on Raven","date":"2024-10-21","draft":false,"engine":"knitr","categories":["2024","Computer Management","HDD"]},"headingText":"INTRO","containsRefs":false,"markdown":"\n\nWe recently purchased a 16TB OWC ThunderBlade X8 as additional storage for Raven (Ubuntu 18.04LTS), primarily to be used for Shelly and Emma's project. Although I thought this would just be \"plug and play,\" when I plugged it in, Raven recognized each individual SSD as its own drive. Firstly, I didn't expect there to be mutliple drives (guess I should've read the product description more closely) and thought it was just a single, massive SSD drive. Secondly, Raven didn't automount the drives.\n\nSo, I had to deal with both of those issues. Luckily, it turns out it wasn't particularly difficult or timeconsuming!\n\n![New external drive isn't listed (i.e. isn't automounted) after being plugged in.](./20241021-initial-df_output-01.png){#fig-ladder fig-alt=\"New external drive isn't listed (i.e. isn't automounted) after being plugged in.\" .lightbox}\n\n![blkid command shows eight nvme drives, corresponding to the Thunderblad X8 SSD drives.](./20241021-initial-blkid_output-01.png){#fig-ladder fig-alt=\"blkid command shows eight nvme drives, corresponding to the Thunderblad X8 SSD drivves.\" .lightbox}\n\n# PROCEDURE\n\n## Combine drives into RAID0\n\nRAID0 essentially treats all the SSDs of the Thunderblad X8 as a single volume (i.e. drive). This maximizes space, but sacrificies any data redundancy. This is fine, as we purchased this solely to function as additional storage and aren't concerned about data redundancy (data on Raven should be sync'd to Gannet with regularity, as Gannet _does_ have data redundancy in a RAID6 setup).\n\nTo do this, we use the [`mdadm` command](https://en.wikipedia.org/wiki/Mdadm) (Wikipedia).\n\n```bash\nsudo mdadm \\\n--create \\\n--verbose \\\n/dev/md0 \\\n--level=0 \\\n--raid-devices=8 \\\n/dev/nvme0n1 \\\n/dev/nvme1n1 \\\n/dev/nvme2n1 \\\n/dev/nvme3n1 \\\n/dev/nvme4n1 \\\n/dev/nvme5n1 \\\n/dev/nvme6n1 \\\n/dev/nvme7n1\n```\n\nThis assigns the combined drive to `/dev/md0` and then sets the RAID level to `0`. This is followed by the drive count and the locations of the drives you want to include in the RAID configuration.\n\n![Screenshot confirming mdadm command and confirming we'd like to proceed.](./20241021-mdadm-confirmation.png){#fig-ladder fig-alt=\"Screenshot confirming mdadm command and confirming we'd like to proceed.\" .lightbox}\n\nAfter running the `mdadm --create` command, we can confirm the details of the command's process and confirm that things look the way we expected:\n\n![Screenshot of mdadm --details command confirming the procedure worked as expected.](./20241021-mdadm-detail_output-01.png){#fig-ladder fig-alt=\"Screenshot of mdadm --details command confirming the procedure worked as expected.\" .lightbox}\n\n\n![Screenshot of blkid now showing all nvme drives associated with md0](./20241021-raid0-blkid_output-01.png){#fig-ladder fig-alt=\"Screenshot of blkid now showing all nvme drives associated with md0\" .lightbox}\n\nNext, we need to format the new RAID0 drives with a file system. In this case, we'll go with `ext4`, which is a standard file system used in Linux/Ubuntu.\n\n## Format HDDs\n\n```bash\nsudo mkfs.ext4 /dev/md0\n```\n\nAfter that's done, we need to create a mount point and mount the drive.\n\n```bash\nsudo mkdir --parents /home/shared/16TB_HDD_01\n\nsudo mount /dev/md0 /home/shared/16TB_HDD_01\n```\n\nFinally, we want this to automount any time the computer is rebooted, so we add it to `/etc/fstab`. Since that table contains the unique drive IDs, I think we don't want them displayed on the open internet. So, if you want to see how that's set up, you'll need to look at `/etc/fstab` on your own.\n\n# RESULTS\n\nNow, check to see that the newly RAID'd and formatted drive shows up.\n\n![Screenshot of df -h now showing a single drive with 14TB of storage mounted at /dev/md0.](./20241021-final-df_output-01.png){#fig-ladder fig-alt=\"Screenshot of df -h now showing a single drive with 14TB of storage mounted at /dev/md0.\" .lightbox}\n\nAlrighty, looks great! Easy, peasy!\n","srcMarkdownNoYaml":"\n# INTRO\n\nWe recently purchased a 16TB OWC ThunderBlade X8 as additional storage for Raven (Ubuntu 18.04LTS), primarily to be used for Shelly and Emma's project. Although I thought this would just be \"plug and play,\" when I plugged it in, Raven recognized each individual SSD as its own drive. Firstly, I didn't expect there to be mutliple drives (guess I should've read the product description more closely) and thought it was just a single, massive SSD drive. Secondly, Raven didn't automount the drives.\n\nSo, I had to deal with both of those issues. Luckily, it turns out it wasn't particularly difficult or timeconsuming!\n\n![New external drive isn't listed (i.e. isn't automounted) after being plugged in.](./20241021-initial-df_output-01.png){#fig-ladder fig-alt=\"New external drive isn't listed (i.e. isn't automounted) after being plugged in.\" .lightbox}\n\n![blkid command shows eight nvme drives, corresponding to the Thunderblad X8 SSD drives.](./20241021-initial-blkid_output-01.png){#fig-ladder fig-alt=\"blkid command shows eight nvme drives, corresponding to the Thunderblad X8 SSD drivves.\" .lightbox}\n\n# PROCEDURE\n\n## Combine drives into RAID0\n\nRAID0 essentially treats all the SSDs of the Thunderblad X8 as a single volume (i.e. drive). This maximizes space, but sacrificies any data redundancy. This is fine, as we purchased this solely to function as additional storage and aren't concerned about data redundancy (data on Raven should be sync'd to Gannet with regularity, as Gannet _does_ have data redundancy in a RAID6 setup).\n\nTo do this, we use the [`mdadm` command](https://en.wikipedia.org/wiki/Mdadm) (Wikipedia).\n\n```bash\nsudo mdadm \\\n--create \\\n--verbose \\\n/dev/md0 \\\n--level=0 \\\n--raid-devices=8 \\\n/dev/nvme0n1 \\\n/dev/nvme1n1 \\\n/dev/nvme2n1 \\\n/dev/nvme3n1 \\\n/dev/nvme4n1 \\\n/dev/nvme5n1 \\\n/dev/nvme6n1 \\\n/dev/nvme7n1\n```\n\nThis assigns the combined drive to `/dev/md0` and then sets the RAID level to `0`. This is followed by the drive count and the locations of the drives you want to include in the RAID configuration.\n\n![Screenshot confirming mdadm command and confirming we'd like to proceed.](./20241021-mdadm-confirmation.png){#fig-ladder fig-alt=\"Screenshot confirming mdadm command and confirming we'd like to proceed.\" .lightbox}\n\nAfter running the `mdadm --create` command, we can confirm the details of the command's process and confirm that things look the way we expected:\n\n![Screenshot of mdadm --details command confirming the procedure worked as expected.](./20241021-mdadm-detail_output-01.png){#fig-ladder fig-alt=\"Screenshot of mdadm --details command confirming the procedure worked as expected.\" .lightbox}\n\n\n![Screenshot of blkid now showing all nvme drives associated with md0](./20241021-raid0-blkid_output-01.png){#fig-ladder fig-alt=\"Screenshot of blkid now showing all nvme drives associated with md0\" .lightbox}\n\nNext, we need to format the new RAID0 drives with a file system. In this case, we'll go with `ext4`, which is a standard file system used in Linux/Ubuntu.\n\n## Format HDDs\n\n```bash\nsudo mkfs.ext4 /dev/md0\n```\n\nAfter that's done, we need to create a mount point and mount the drive.\n\n```bash\nsudo mkdir --parents /home/shared/16TB_HDD_01\n\nsudo mount /dev/md0 /home/shared/16TB_HDD_01\n```\n\nFinally, we want this to automount any time the computer is rebooted, so we add it to `/etc/fstab`. Since that table contains the unique drive IDs, I think we don't want them displayed on the open internet. So, if you want to see how that's set up, you'll need to look at `/etc/fstab` on your own.\n\n# RESULTS\n\nNow, check to see that the newly RAID'd and formatted drive shows up.\n\n![Screenshot of df -h now showing a single drive with 14TB of storage mounted at /dev/md0.](./20241021-final-df_output-01.png){#fig-ladder fig-alt=\"Screenshot of df -h now showing a single drive with 14TB of storage mounted at /dev/md0.\" .lightbox}\n\nAlrighty, looks great! Easy, peasy!\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"toc-depth":5,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"source","theme":"darkly","page-layout":"full","code-background":true,"code-copy":true,"title-block-banner":true,"author":"Sam White","toc-title":"Contents","toc-location":"left","title":"Computer Management - Configure 16TB OWC ThunderBlade X8 External HDD on Raven","date":"2024-10-21","draft":false,"categories":["2024","Computer Management","HDD"]},"extensions":{"book":{"multiFile":true}}}},"draft":false,"projectFormats":["html"]}