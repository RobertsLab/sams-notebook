{"title":"Titrator Setup - Functional Methods & Data Exports","markdown":{"yaml":{"author":"Sam White","toc-title":"Contents","toc-depth":5,"toc-location":"left","date":"2018-02-01 23:00:55+00:00","layout":"post","slug":"titrator-setup-functional-methods-data-exports","title":"Titrator Setup - Functional Methods & Data Exports","categories":["2018","Miscellaneous"],"tags":["LabX","Mettler Toledo","Rondolino","T5","T5 Excellence","titrator"]},"headingText":"Basic Functionality Fixes","containsRefs":false,"markdown":"\n\nI've been working on getting our T5 Excellence titrator (Mettler Toledo) with Rondolino sample changer (Mettler Toledo) set up and operational.\n\nA significant part of the setup process is utilizing the LabX Software (Mettler Toledo, v.8.0.0). The software is vastly overpowered (i.e. overly complicated) for the nature of our work. As such, it's been quite the struggle to get the titrator to do what we need it to do.\n\nWe've received a great deal of help and insight from Dr. Hollie Putnam (Univ. of Rhode Island). She provided us with a LabX Method that was previously used by some of her colleagues. In addition, she provided us with an SOP from those colleagues that helps describe how to physically operate the titrator and a corresponding workflow for data collection. Of course, she's also helped immensely with understanding the entire process of the chemistry to how to process samples to implementing various quality control checks to ensure we'll get the most accurate data we can.\n\nAfter some significant struggles with getting the method to work properly, I contacted Mettler Toledo and the technician helped me modify the method that Hollie passed along to us to run properly.\n\n\n\n* * *\n\n\n\n\n\n\n\n\nThe updated method resolves the following issues we were having (see annotated screenshot below the lists for more detailed overview of method changes):\n\n\n\n\n\n  * Method only ends titration at specified maximum volume instead of specified potential\n\n\n  * Method exits with Sample State = \"Not OK\"\n\n\n  * Method fails to calculate acid Consumption at end of titration\n\n\n\nI also modified the method to bring it up to spec with [the Dickson Guide to Best Practices for Ocean CO2 Measurements- SOP3b](https://github.com/RobertsLab/titrator/blob/master/protocols/Dickson_Guide_to_Best_Practices_for_Ocean_CO2_Measurements_2007.pdf):\n\n\n\n\n\n  * Changed method template to use Endpoint (EP) titration instead of Equivalence Point (EQP) titration\n\n\n  * Implemented initial titration step to pH=3.5 (200mV)\n\n\n  * Added degassing step to match Dickson specs (increase stir speed and duration)\n\n\n  * Improved titration precision by changing titration rate to automatically adjust relative to set endpoint values\n\n\n  * Set correct voltages for pH=3.5 (200mV) & pH=3.0 (228.57mV); no need to adjust prior to running method\n\n\n\nI recommend opening the image below in a new tab in order to be able to read all of the annotations.\n\n![](https://owl.fish.washington.edu/Athaliana/20180201_labx_method_comparison_01.png)\n\nSo, all of that stuff makes the method actually run according to the Dickson specs. It also fixes the Consumption calculation. Although this aspect of the method is totally unnecessary (the consumption calculation could easily be integrated in downstream analysis), it feels good to have fixed the issue and learn how that aspect of the LabX software functions.\n\n\n\n* * *\n\n\n\n\n\n### Data Export Fixes\n\n\n\nWe recently acquired the necessary license to unlock the ability to export data.\n\n\n\n##### Digression:\n\n\n\nThis is a terrible practice implemented by Mettler Toledo, btw. I'm particularly annoyed because I specifically asked about data exports when I spoke with the sales rep when initiating the purchase. He neglected to mention that I'd need to purchase an additional license. I wasted a lot of time and hair pulling before I learned that this feature was locked by design and that I needed this additional license.\n\nAnyway, the struggles continued even after activating the license. I was not able to export any data - every attempt at specifying a directory in which to save data failed.\n\nMettler Toledo informed me that it has to do with Windows Services Permissions.\n\nTo change permissions to allow data export:\n\n\n\n\n\n  1. Search Windows for \"Services\"\n\n\n  2. Open \"Services\"\n\n\n  3. Right-click on \"LabXHostService\"\n\n\n  4. Select \"Properties\"\n\n\n  5. Click \"Log On\" tab.\n\n\n  6. Click \"Local System Account\" radio button.\n\n\n  7. Check \"Allow service to interact with desktop\" box.\n\n\n  8. Restart computer.\n\n\n\nNow, the data gets automatically exported to my desired directory as soon as a LabX task is finished!!\n\n\n\n* * *\n\n\n\n\n\n### Data Management & Informational Resources\n\n\n\nAs we are very close to beginning to actually collect data with the titrator, I realized that all this data needs to go somewhere. Additionally, people need someplace to find out how to use all of this stuff (equipment, software, etc.).\n\nI created a new GitHub repo: [RobertsLab/titrator](https://github.com/RobertsLab/titrator)\n\nPlease feel free to look through it and post any ideas to the [Issues section of the repo](https://github.com/RobertsLab/titrator/issues).\n\nIn my mind, this will be a \"master\" data repository for all measurements conducted on the titrator. All daily pH calibration data should get pushed to this repo. Any sample titration data should also end up on this repo. Basically, all the raw data coming off the machine each time it is used should end up in this repo. I think this will reduce data fragmentation (e.g. I perform measurements on a subset of samples one day and put the data in my folder on Owl. Then Grace performs measurements on the remaining samples and uploads those data to her folder on Owl. Now, the complete data set for an experiment is split between two different locations, making it difficult to find.)\n\nAlthough this single data repository approach won't eliminate fragmentation (it can't be avoided since the Rondolino sample changer can only hold nine samples), I think it will be beneficial to know that all the data is in a single location.\n\nThis repo will also be a resource for SOPs and troubleshooting. A detailed SOP is currently in development (being modified from the SOP Hollie originally sent us) which will detail daily startup/shutdown procedures, running scripts to process data, and guides on how to evaluate quality control procedures at various points throughout the titration process.\n\nFinally, it will also contain the necessary scripts that we develop for data grooming and analysis.\n\n\n\n* * *\n\n\n\n\n\n### What's Left?\n\n\n\n\n\n#### Equipment\n\n\n\nWe only need one final physical component to actually begin collecting data. After reviewing the Dickson SOP3b and speaking with Hollie, it turns out we need an aquarium pump and rotameter (acquired this week) to sparge our samples; this aids in degassing prior to the titration from pH=3.5 to pH=3.0. Just waiting on tubing and tubing adapters for the rotameter. Once we have this, I should be able to start powering through samples.\n\nInitial testing of the titrator (even without the full physical setup in place) shows highly consistent, reproducible measurements - both with pH calibration values and with total alkalinity (TA) determinations on Instant Ocean seawater. As such, I'm confident that I won't have very much testing left to do once I can start bubbling air into the samples.\n\n\n\n#### Software\n\n\n\nAlthough these things are not necessary in order to start acquiring data, they will be necessary for performing TA calculations and, eventually be desired for analyzing and reporting TA calculations in near real-time (the end goal is to have this titrator setup in a wet lab where water TA calculations can be determined on the spot, as opposed to being stored and analyzed at a later time).\n\nA to-do list is outlined here: [RobertsLab/titrator/issues/1](https://github.com/RobertsLab/titrator/issues/1)\n","srcMarkdownNoYaml":"\n\nI've been working on getting our T5 Excellence titrator (Mettler Toledo) with Rondolino sample changer (Mettler Toledo) set up and operational.\n\nA significant part of the setup process is utilizing the LabX Software (Mettler Toledo, v.8.0.0). The software is vastly overpowered (i.e. overly complicated) for the nature of our work. As such, it's been quite the struggle to get the titrator to do what we need it to do.\n\nWe've received a great deal of help and insight from Dr. Hollie Putnam (Univ. of Rhode Island). She provided us with a LabX Method that was previously used by some of her colleagues. In addition, she provided us with an SOP from those colleagues that helps describe how to physically operate the titrator and a corresponding workflow for data collection. Of course, she's also helped immensely with understanding the entire process of the chemistry to how to process samples to implementing various quality control checks to ensure we'll get the most accurate data we can.\n\nAfter some significant struggles with getting the method to work properly, I contacted Mettler Toledo and the technician helped me modify the method that Hollie passed along to us to run properly.\n\n\n\n* * *\n\n\n\n\n\n### Basic Functionality Fixes\n\n\n\nThe updated method resolves the following issues we were having (see annotated screenshot below the lists for more detailed overview of method changes):\n\n\n\n\n\n  * Method only ends titration at specified maximum volume instead of specified potential\n\n\n  * Method exits with Sample State = \"Not OK\"\n\n\n  * Method fails to calculate acid Consumption at end of titration\n\n\n\nI also modified the method to bring it up to spec with [the Dickson Guide to Best Practices for Ocean CO2 Measurements- SOP3b](https://github.com/RobertsLab/titrator/blob/master/protocols/Dickson_Guide_to_Best_Practices_for_Ocean_CO2_Measurements_2007.pdf):\n\n\n\n\n\n  * Changed method template to use Endpoint (EP) titration instead of Equivalence Point (EQP) titration\n\n\n  * Implemented initial titration step to pH=3.5 (200mV)\n\n\n  * Added degassing step to match Dickson specs (increase stir speed and duration)\n\n\n  * Improved titration precision by changing titration rate to automatically adjust relative to set endpoint values\n\n\n  * Set correct voltages for pH=3.5 (200mV) & pH=3.0 (228.57mV); no need to adjust prior to running method\n\n\n\nI recommend opening the image below in a new tab in order to be able to read all of the annotations.\n\n![](https://owl.fish.washington.edu/Athaliana/20180201_labx_method_comparison_01.png)\n\nSo, all of that stuff makes the method actually run according to the Dickson specs. It also fixes the Consumption calculation. Although this aspect of the method is totally unnecessary (the consumption calculation could easily be integrated in downstream analysis), it feels good to have fixed the issue and learn how that aspect of the LabX software functions.\n\n\n\n* * *\n\n\n\n\n\n### Data Export Fixes\n\n\n\nWe recently acquired the necessary license to unlock the ability to export data.\n\n\n\n##### Digression:\n\n\n\nThis is a terrible practice implemented by Mettler Toledo, btw. I'm particularly annoyed because I specifically asked about data exports when I spoke with the sales rep when initiating the purchase. He neglected to mention that I'd need to purchase an additional license. I wasted a lot of time and hair pulling before I learned that this feature was locked by design and that I needed this additional license.\n\nAnyway, the struggles continued even after activating the license. I was not able to export any data - every attempt at specifying a directory in which to save data failed.\n\nMettler Toledo informed me that it has to do with Windows Services Permissions.\n\nTo change permissions to allow data export:\n\n\n\n\n\n  1. Search Windows for \"Services\"\n\n\n  2. Open \"Services\"\n\n\n  3. Right-click on \"LabXHostService\"\n\n\n  4. Select \"Properties\"\n\n\n  5. Click \"Log On\" tab.\n\n\n  6. Click \"Local System Account\" radio button.\n\n\n  7. Check \"Allow service to interact with desktop\" box.\n\n\n  8. Restart computer.\n\n\n\nNow, the data gets automatically exported to my desired directory as soon as a LabX task is finished!!\n\n\n\n* * *\n\n\n\n\n\n### Data Management & Informational Resources\n\n\n\nAs we are very close to beginning to actually collect data with the titrator, I realized that all this data needs to go somewhere. Additionally, people need someplace to find out how to use all of this stuff (equipment, software, etc.).\n\nI created a new GitHub repo: [RobertsLab/titrator](https://github.com/RobertsLab/titrator)\n\nPlease feel free to look through it and post any ideas to the [Issues section of the repo](https://github.com/RobertsLab/titrator/issues).\n\nIn my mind, this will be a \"master\" data repository for all measurements conducted on the titrator. All daily pH calibration data should get pushed to this repo. Any sample titration data should also end up on this repo. Basically, all the raw data coming off the machine each time it is used should end up in this repo. I think this will reduce data fragmentation (e.g. I perform measurements on a subset of samples one day and put the data in my folder on Owl. Then Grace performs measurements on the remaining samples and uploads those data to her folder on Owl. Now, the complete data set for an experiment is split between two different locations, making it difficult to find.)\n\nAlthough this single data repository approach won't eliminate fragmentation (it can't be avoided since the Rondolino sample changer can only hold nine samples), I think it will be beneficial to know that all the data is in a single location.\n\nThis repo will also be a resource for SOPs and troubleshooting. A detailed SOP is currently in development (being modified from the SOP Hollie originally sent us) which will detail daily startup/shutdown procedures, running scripts to process data, and guides on how to evaluate quality control procedures at various points throughout the titration process.\n\nFinally, it will also contain the necessary scripts that we develop for data grooming and analysis.\n\n\n\n* * *\n\n\n\n\n\n### What's Left?\n\n\n\n\n\n#### Equipment\n\n\n\nWe only need one final physical component to actually begin collecting data. After reviewing the Dickson SOP3b and speaking with Hollie, it turns out we need an aquarium pump and rotameter (acquired this week) to sparge our samples; this aids in degassing prior to the titration from pH=3.5 to pH=3.0. Just waiting on tubing and tubing adapters for the rotameter. Once we have this, I should be able to start powering through samples.\n\nInitial testing of the titrator (even without the full physical setup in place) shows highly consistent, reproducible measurements - both with pH calibration values and with total alkalinity (TA) determinations on Instant Ocean seawater. As such, I'm confident that I won't have very much testing left to do once I can start bubbling air into the samples.\n\n\n\n#### Software\n\n\n\nAlthough these things are not necessary in order to start acquiring data, they will be necessary for performing TA calculations and, eventually be desired for analyzing and reporting TA calculations in near real-time (the end goal is to have this titrator setup in a wet lab where water TA calculations can be determined on the spot, as opposed to being stored and analyzed at a later time).\n\nA to-do list is outlined here: [RobertsLab/titrator/issues/1](https://github.com/RobertsLab/titrator/issues/1)\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"toc-depth":5,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"source","theme":"darkly","page-layout":"full","code-background":true,"code-copy":true,"title-block-banner":true,"author":"Sam White","toc-title":"Contents","toc-location":"left","date":"2018-02-01 23:00:55+00:00","layout":"post","slug":"titrator-setup-functional-methods-data-exports","title":"Titrator Setup - Functional Methods & Data Exports","categories":["2018","Miscellaneous"],"tags":["LabX","Mettler Toledo","Rondolino","T5","T5 Excellence","titrator"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}