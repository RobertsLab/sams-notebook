{"title":"Ubuntu – Fix “No Video Signal” Issue on Emu","markdown":{"yaml":{"author":"Sam White","toc-title":"Contents","toc-depth":5,"toc-location":"left","date":"2018-10-02 15:22:49+00:00","layout":"post","slug":"ubuntu-fix-no-video-signal-issue-on-emu","title":"Ubuntu – Fix “No Video Signal” Issue on Emu","categories":["2018","Computer Servicing"],"tags":["emu","grub","ubuntu","Xserve"]},"containsRefs":false,"markdown":"\n\n[An issue with Emu](https://github.com/RobertsLab/resources/issues/376) cropped up a few weeks ago that was seemingly caused by upgrading from Ubuntu 16.04 to 18.04.\n\nHowever, the problems only seemed related to using Emu via the GUI; users could still use Emu as a headless computer via SSH.\n\nToday, I was upgrading some packages and noticed two things:\n\n\n\n\n\n  1. When initially logging in to Emu.\n\n\n    \n    <code>\n    sam@swoose:~$ ssh emu\n    Welcome to Ubuntu 16.04.5 LTS (GNU/Linux 4.4.0-57-generic x86_64)\n    \n    * Documentation:  https://help.ubuntu.com\n    * Management:     https://landscape.canonical.com\n    * Support:        https://ubuntu.com/advantage\n    \n    0 packages can be updated.\n    0 updates are security updates.\n    \n    New release '18.04.1 LTS' available.\n    Run 'do-release-upgrade' to upgrade to it.\n    \n    You have mail.\n    Last login: Tue Oct  2 07:30:32 2018 from 128.95.149.75\n    </code>\n\n\n\nThis is showing that Emu is still running Ubuntu 16.04, _not_ 18.04 as presumed!\n\n\n\n  2. An error in the GRUB config generation process when upgrading packages.\n\n\n\n\n\n    \n    <code>\n    run-parts: executing /etc/kernel/postrm.d/zz-update-grub 4.4.0-134-generic /boot/vmlinuz-4.4.0-134-generic\n    Generating grub configuration file ...\n    Found linux image: /boot/vmlinuz-4.4.0-137-generic\n    Found initrd image: /boot/initrd.img-4.4.0-137-generic\n    Found linux image: /boot/vmlinuz-4.4.0-135-generic\n    Found initrd image: /boot/initrd.img-4.4.0-135-generic\n    Found linux image: /boot/vmlinuz-4.4.0-57-generic\n    Found initrd image: /boot/initrd.img-4.4.0-57-generic\n    Found linux image: /boot/vmlinuz-4.4.0-53-generic\n    Found initrd image: /boot/initrd.img-4.4.0-53-generic\n    error: syntax error.\n    error: Incorrect command.\n    error: syntax error.\n    Syntax error at line 98\n    Syntax errors are detected in generated GRUB config file.\n    Ensure that there are no errors in /etc/default/grub\n    and /etc/grub.d/* files or please file a bug report with\n    /boot/grub/grub.cfg.new file attached.\n    done\n    Processing triggers for libc-bin (2.23-0ubuntu10) ...\n    </code>\n\n\n\n\n\nThese two bits of information led me to believe the problem wasn't that the system upgrade to 18.04 was incompatible with these old Apple Xserve hardware (since the upgrade didn't actually get implemented) and instead was that the upgrade might have been initiated, but aborted, which modified the GRUB configuration file(s), breaking the GUI; much like the [problem I previously addressed earlier this summer](https://robertslab.github.io/sams-notebook/posts/2018/2018-07-05-ubuntu-fix-no-video-signal-issue-on-emuroadrunner/).\n\nWhen I fixed the display/GUI issues with Emu and Roadrunner earlier this summer, I noted that the `/etc/default/grub` files on each of the computers were slightly different, despite the fact that these two computers should be identical. So, I replaced the `/etc/default/grub` file on Emu with the file from Roadrunner and rebooted Emu.\n\nContents of `/etc/default/grub` file on Emu/Roadrunner, for future reference:\n\n\n    \n    <code>\n    # If you change this file, run 'update-grub' afterwards to update\n    # /boot/grub/grub.cfg.\n    # For full documentation of the options in this file, see:\n    #   info -f grub -n 'Simple configuration'\n    \n    GRUB_DEFAULT=0\n    #GRUB_HIDDEN_TIMEOUT=0\n    GRUB_HIDDEN_TIMEOUT_QUIET=true\n    GRUB_TIMEOUT=10\n    GRUB_DISTRIBUTOR=`lsb_release -i -s 2> /dev/null || echo Debian`\n    GRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash\"\n    GRUB_CMDLINE_LINUX=\"\"\n    \n    # Uncomment to enable BadRAM filtering, modify to suit your needs\n    # This works with Linux (no patch required) and with any kernel that obtains\n    # the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...)\n    #GRUB_BADRAM=\"0x01234567,0xfefefefe,0x89abcdef,0xefefefef\"\n    \n    # Uncomment to disable graphical terminal (grub-pc only)\n    #GRUB_TERMINAL=console\n    \n    # The resolution used on graphical terminal\n    # note that you can use only modes which your graphic card supports via VBE\n    # you can see them in real GRUB with the command `vbeinfo'\n    #GRUB_GFXMODE=640x480\n    \n    # Uncomment if you don't want GRUB to pass \"root=UUID=xxx\" parameter to Linux\n    #GRUB_DISABLE_LINUX_UUID=true\n    \n    # Uncomment to disable generation of recovery mode menu entries\n    #GRUB_DISABLE_RECOVERY=\"true\"\n    \n    # Uncomment to get a beep at grub start\n    #GRUB_INIT_TUNE=\"480 440 1\"\n    </code>\n\n\n\nVoila! Emu now has a functional display/GUI again!\n","srcMarkdownNoYaml":"\n\n[An issue with Emu](https://github.com/RobertsLab/resources/issues/376) cropped up a few weeks ago that was seemingly caused by upgrading from Ubuntu 16.04 to 18.04.\n\nHowever, the problems only seemed related to using Emu via the GUI; users could still use Emu as a headless computer via SSH.\n\nToday, I was upgrading some packages and noticed two things:\n\n\n\n\n\n  1. When initially logging in to Emu.\n\n\n    \n    <code>\n    sam@swoose:~$ ssh emu\n    Welcome to Ubuntu 16.04.5 LTS (GNU/Linux 4.4.0-57-generic x86_64)\n    \n    * Documentation:  https://help.ubuntu.com\n    * Management:     https://landscape.canonical.com\n    * Support:        https://ubuntu.com/advantage\n    \n    0 packages can be updated.\n    0 updates are security updates.\n    \n    New release '18.04.1 LTS' available.\n    Run 'do-release-upgrade' to upgrade to it.\n    \n    You have mail.\n    Last login: Tue Oct  2 07:30:32 2018 from 128.95.149.75\n    </code>\n\n\n\nThis is showing that Emu is still running Ubuntu 16.04, _not_ 18.04 as presumed!\n\n\n\n  2. An error in the GRUB config generation process when upgrading packages.\n\n\n\n\n\n    \n    <code>\n    run-parts: executing /etc/kernel/postrm.d/zz-update-grub 4.4.0-134-generic /boot/vmlinuz-4.4.0-134-generic\n    Generating grub configuration file ...\n    Found linux image: /boot/vmlinuz-4.4.0-137-generic\n    Found initrd image: /boot/initrd.img-4.4.0-137-generic\n    Found linux image: /boot/vmlinuz-4.4.0-135-generic\n    Found initrd image: /boot/initrd.img-4.4.0-135-generic\n    Found linux image: /boot/vmlinuz-4.4.0-57-generic\n    Found initrd image: /boot/initrd.img-4.4.0-57-generic\n    Found linux image: /boot/vmlinuz-4.4.0-53-generic\n    Found initrd image: /boot/initrd.img-4.4.0-53-generic\n    error: syntax error.\n    error: Incorrect command.\n    error: syntax error.\n    Syntax error at line 98\n    Syntax errors are detected in generated GRUB config file.\n    Ensure that there are no errors in /etc/default/grub\n    and /etc/grub.d/* files or please file a bug report with\n    /boot/grub/grub.cfg.new file attached.\n    done\n    Processing triggers for libc-bin (2.23-0ubuntu10) ...\n    </code>\n\n\n\n\n\nThese two bits of information led me to believe the problem wasn't that the system upgrade to 18.04 was incompatible with these old Apple Xserve hardware (since the upgrade didn't actually get implemented) and instead was that the upgrade might have been initiated, but aborted, which modified the GRUB configuration file(s), breaking the GUI; much like the [problem I previously addressed earlier this summer](https://robertslab.github.io/sams-notebook/posts/2018/2018-07-05-ubuntu-fix-no-video-signal-issue-on-emuroadrunner/).\n\nWhen I fixed the display/GUI issues with Emu and Roadrunner earlier this summer, I noted that the `/etc/default/grub` files on each of the computers were slightly different, despite the fact that these two computers should be identical. So, I replaced the `/etc/default/grub` file on Emu with the file from Roadrunner and rebooted Emu.\n\nContents of `/etc/default/grub` file on Emu/Roadrunner, for future reference:\n\n\n    \n    <code>\n    # If you change this file, run 'update-grub' afterwards to update\n    # /boot/grub/grub.cfg.\n    # For full documentation of the options in this file, see:\n    #   info -f grub -n 'Simple configuration'\n    \n    GRUB_DEFAULT=0\n    #GRUB_HIDDEN_TIMEOUT=0\n    GRUB_HIDDEN_TIMEOUT_QUIET=true\n    GRUB_TIMEOUT=10\n    GRUB_DISTRIBUTOR=`lsb_release -i -s 2> /dev/null || echo Debian`\n    GRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash\"\n    GRUB_CMDLINE_LINUX=\"\"\n    \n    # Uncomment to enable BadRAM filtering, modify to suit your needs\n    # This works with Linux (no patch required) and with any kernel that obtains\n    # the memory map information from GRUB (GNU Mach, kernel of FreeBSD ...)\n    #GRUB_BADRAM=\"0x01234567,0xfefefefe,0x89abcdef,0xefefefef\"\n    \n    # Uncomment to disable graphical terminal (grub-pc only)\n    #GRUB_TERMINAL=console\n    \n    # The resolution used on graphical terminal\n    # note that you can use only modes which your graphic card supports via VBE\n    # you can see them in real GRUB with the command `vbeinfo'\n    #GRUB_GFXMODE=640x480\n    \n    # Uncomment if you don't want GRUB to pass \"root=UUID=xxx\" parameter to Linux\n    #GRUB_DISABLE_LINUX_UUID=true\n    \n    # Uncomment to disable generation of recovery mode menu entries\n    #GRUB_DISABLE_RECOVERY=\"true\"\n    \n    # Uncomment to get a beep at grub start\n    #GRUB_INIT_TUNE=\"480 440 1\"\n    </code>\n\n\n\nVoila! Emu now has a functional display/GUI again!\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"toc-depth":5,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"source","theme":"darkly","page-layout":"full","code-background":true,"code-copy":true,"title-block-banner":true,"author":"Sam White","toc-title":"Contents","toc-location":"left","date":"2018-10-02 15:22:49+00:00","layout":"post","slug":"ubuntu-fix-no-video-signal-issue-on-emu","title":"Ubuntu – Fix “No Video Signal” Issue on Emu","categories":["2018","Computer Servicing"],"tags":["emu","grub","ubuntu","Xserve"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}