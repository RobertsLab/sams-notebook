{"title":"Software Crash - Olympia oyster genome assembly with Masurca on Mox","markdown":{"yaml":{"author":"Sam White","toc-title":"Contents","toc-depth":5,"toc-location":"left","date":"2017-10-31 14:54:18+00:00","layout":"post","slug":"software-crash-olympia-oyster-genome-assembly-with-masurca-on-mox","title":"Software Crash - Olympia oyster genome assembly with Masurca on Mox","categories":["2017","Miscellaneous"],"tags":["assembly","hyak","MaSuRCA","mox","olympia oyster","Ostrea lurida"]},"containsRefs":false,"markdown":"\n\nAh, the joys of bioinformatics. I just received an email from Mox indicating that [the Masurca assembly I started 11 DAYS AGO (!!)(2017/10/19/genome-assembly-olympia-oyster-illumina-pacbio-reads-using-masurca.html) crashed.\n\n![](https://owl.fish.washington.edu/Athaliana/20171031_masurca_failed.png)(http://owl.fish.washington.edu/Athaliana/20171031_masurca_failed.png)\n\nI'm probably not going to put much effort in to trying to figure out what went wrong, but here's some log file snippets for reference. I'll probably drop a line to the developers and see if they have any easy ways to address whatever caused the problems, but that's about as much effort as I'm willing to put into troubleshooting this assembly.\n\nAdditionally, since this crashed, I'm not going to bother moving any of the files off of Mox. That means they will be deleted automatically by the system around Nov. 9th, 2017.\n\n\n\n* * *\n\n\n\nslurm-94620.out (tail)\n\n[code lang=text]\ncompute_psa 6601202 2632582819\nRefining alignments\nJoining\nGenerating assembly input files\nCoverage of the mega-reads less than 5 -- using the super reads as well\nCoverage threshold for splitting unitigs is 138 minimum ovl 63\nRunning assembly\n/gscratch/srlab/programs/MaSuRCA-3.2.3/bin/deduplicate_unitigs.sh: line 85: 24330 Aborted                 (core dumped) overlapStoreBuild -o $ASM_DIR/$ASM_PREFIX.ovlStore -M 65536 -g $ASM_DIR/$ASM_PREFIX.gkpStore $ASM_DIR/overlaps_dedup.ovb.gz > $ASM_DIR/overlapStore.rebuild.err 2>&1\nAssembly stopped or failed, see CA.mr.41.15.17.0.029.log\n[Mon Oct 30 23:19:37 PDT 2017] Assembly stopped or failed, see CA.mr.41.15.17.0.029.log\n[/code]\n\n\n\n* * *\n\n\n\nCA.mr.41.15.17.0.029.log (tail)\n\n[code lang=text]\nnumber of threads     = 28 (OpenMP default)\n\nERROR:  overlapStore '/gscratch/scrubbed/samwhite/20171019_masurca_oly_assembly/CA.mr.41.15.17.0.029/genome.ovlStore' is incomplete; previous overlapStoreBuild probably crashed.\n\n----------------------------------------\nFailure message:\n\nfailed to unitig\n[/code]\n\n\n\n* * *\n\n\n\noverlapStore.rebuild.err\n\n[code lang=text]\nScanning overlap files to count the number of overlaps.\nFound 277.972 million overlaps.\nMemory limit 65536MB supplied.  Ill put 3246167525 IIDs (3435.97 million overlaps) into each of 1 buckets.\nbucketizing CA.mr.41.15.17.0.029/overlaps_dedup.ovb.gz\nbucketizing DONE!\noverlaps skipped:\n               0 OBT - low quality\n               0 DUP - non-duplicate overlap\n               0 DUP - different library\n               0 DUP - dedup not requested\nterminate called after throwing an instance of std::bad_alloc\n  what():  std::bad_alloc\n\nFailed with Aborted\n\nBacktrace (mangled):\n\noverlapStoreBuild[0x40523a]\n/usr/lib64/libpthread.so.0(+0xf100)[0x2af83b3c0100]\n/usr/lib64/libc.so.6(gsignal+0x37)[0x2af83c0395f7]\n/usr/lib64/libc.so.6(abort+0x148)[0x2af83c03ace8]\n/usr/lib64/libstdc++.so.6(_ZN9__gnu_cxx27__verbose_terminate_handlerEv+0x165)[0x2af83b62d9d5]\n/usr/lib64/libstdc++.so.6(+0x5e946)[0x2af83b62b946]\n/usr/lib64/libstdc++.so.6(+0x5e973)[0x2af83b62b973]\n/usr/lib64/libstdc++.so.6(+0x5eb93)[0x2af83b62bb93]\n/usr/lib64/libstdc++.so.6(_Znwm+0x7d)[0x2af83b62c12d]\n/usr/lib64/libstdc++.so.6(_Znam+0x9)[0x2af83b62c1c9]\noverlapStoreBuild[0x402e10]\n/usr/lib64/libc.so.6(__libc_start_main+0xf5)[0x2af83c025b15]\noverlapStoreBuild[0x403089]\n\nBacktrace (demangled):\n\n[0] overlapStoreBuild() [0x40523a]\n[1] /usr/lib64/libpthread.so.0::(null) + 0xf100  [0x2af83b3c0100]\n[2] /usr/lib64/libc.so.6::(null) + 0x37  [0x2af83c0395f7]\n[3] /usr/lib64/libc.so.6::(null) + 0x148  [0x2af83c03ace8]\n[4] /usr/lib64/libstdc++.so.6::__gnu_cxx::__verbose_terminate_handler() + 0x165  [0x2af83b62d9d5]\n[5] /usr/lib64/libstdc++.so.6::(null) + 0x5e946  [0x2af83b62b946]\n[6] /usr/lib64/libstdc++.so.6::(null) + 0x5e973  [0x2af83b62b973]\n[7] /usr/lib64/libstdc++.so.6::(null) + 0x5eb93  [0x2af83b62bb93]\n[8] /usr/lib64/libstdc++.so.6::operator new(unsigned long) + 0x7d  [0x2af83b62c12d]\n[9] /usr/lib64/libstdc++.so.6::operator new[](unsigned long) + 0x9  [0x2af83b62c1c9]\n[10] overlapStoreBuild() [0x402e10]\n[11] /usr/lib64/libc.so.6::(null) + 0xf5  [0x2af83c025b15]\n[12] overlapStoreBuild() [0x403089]\n\nGDB:\n[/code]\n","srcMarkdownNoYaml":"\n\nAh, the joys of bioinformatics. I just received an email from Mox indicating that [the Masurca assembly I started 11 DAYS AGO (!!)(2017/10/19/genome-assembly-olympia-oyster-illumina-pacbio-reads-using-masurca.html) crashed.\n\n![](https://owl.fish.washington.edu/Athaliana/20171031_masurca_failed.png)(http://owl.fish.washington.edu/Athaliana/20171031_masurca_failed.png)\n\nI'm probably not going to put much effort in to trying to figure out what went wrong, but here's some log file snippets for reference. I'll probably drop a line to the developers and see if they have any easy ways to address whatever caused the problems, but that's about as much effort as I'm willing to put into troubleshooting this assembly.\n\nAdditionally, since this crashed, I'm not going to bother moving any of the files off of Mox. That means they will be deleted automatically by the system around Nov. 9th, 2017.\n\n\n\n* * *\n\n\n\nslurm-94620.out (tail)\n\n[code lang=text]\ncompute_psa 6601202 2632582819\nRefining alignments\nJoining\nGenerating assembly input files\nCoverage of the mega-reads less than 5 -- using the super reads as well\nCoverage threshold for splitting unitigs is 138 minimum ovl 63\nRunning assembly\n/gscratch/srlab/programs/MaSuRCA-3.2.3/bin/deduplicate_unitigs.sh: line 85: 24330 Aborted                 (core dumped) overlapStoreBuild -o $ASM_DIR/$ASM_PREFIX.ovlStore -M 65536 -g $ASM_DIR/$ASM_PREFIX.gkpStore $ASM_DIR/overlaps_dedup.ovb.gz > $ASM_DIR/overlapStore.rebuild.err 2>&1\nAssembly stopped or failed, see CA.mr.41.15.17.0.029.log\n[Mon Oct 30 23:19:37 PDT 2017] Assembly stopped or failed, see CA.mr.41.15.17.0.029.log\n[/code]\n\n\n\n* * *\n\n\n\nCA.mr.41.15.17.0.029.log (tail)\n\n[code lang=text]\nnumber of threads     = 28 (OpenMP default)\n\nERROR:  overlapStore '/gscratch/scrubbed/samwhite/20171019_masurca_oly_assembly/CA.mr.41.15.17.0.029/genome.ovlStore' is incomplete; previous overlapStoreBuild probably crashed.\n\n----------------------------------------\nFailure message:\n\nfailed to unitig\n[/code]\n\n\n\n* * *\n\n\n\noverlapStore.rebuild.err\n\n[code lang=text]\nScanning overlap files to count the number of overlaps.\nFound 277.972 million overlaps.\nMemory limit 65536MB supplied.  Ill put 3246167525 IIDs (3435.97 million overlaps) into each of 1 buckets.\nbucketizing CA.mr.41.15.17.0.029/overlaps_dedup.ovb.gz\nbucketizing DONE!\noverlaps skipped:\n               0 OBT - low quality\n               0 DUP - non-duplicate overlap\n               0 DUP - different library\n               0 DUP - dedup not requested\nterminate called after throwing an instance of std::bad_alloc\n  what():  std::bad_alloc\n\nFailed with Aborted\n\nBacktrace (mangled):\n\noverlapStoreBuild[0x40523a]\n/usr/lib64/libpthread.so.0(+0xf100)[0x2af83b3c0100]\n/usr/lib64/libc.so.6(gsignal+0x37)[0x2af83c0395f7]\n/usr/lib64/libc.so.6(abort+0x148)[0x2af83c03ace8]\n/usr/lib64/libstdc++.so.6(_ZN9__gnu_cxx27__verbose_terminate_handlerEv+0x165)[0x2af83b62d9d5]\n/usr/lib64/libstdc++.so.6(+0x5e946)[0x2af83b62b946]\n/usr/lib64/libstdc++.so.6(+0x5e973)[0x2af83b62b973]\n/usr/lib64/libstdc++.so.6(+0x5eb93)[0x2af83b62bb93]\n/usr/lib64/libstdc++.so.6(_Znwm+0x7d)[0x2af83b62c12d]\n/usr/lib64/libstdc++.so.6(_Znam+0x9)[0x2af83b62c1c9]\noverlapStoreBuild[0x402e10]\n/usr/lib64/libc.so.6(__libc_start_main+0xf5)[0x2af83c025b15]\noverlapStoreBuild[0x403089]\n\nBacktrace (demangled):\n\n[0] overlapStoreBuild() [0x40523a]\n[1] /usr/lib64/libpthread.so.0::(null) + 0xf100  [0x2af83b3c0100]\n[2] /usr/lib64/libc.so.6::(null) + 0x37  [0x2af83c0395f7]\n[3] /usr/lib64/libc.so.6::(null) + 0x148  [0x2af83c03ace8]\n[4] /usr/lib64/libstdc++.so.6::__gnu_cxx::__verbose_terminate_handler() + 0x165  [0x2af83b62d9d5]\n[5] /usr/lib64/libstdc++.so.6::(null) + 0x5e946  [0x2af83b62b946]\n[6] /usr/lib64/libstdc++.so.6::(null) + 0x5e973  [0x2af83b62b973]\n[7] /usr/lib64/libstdc++.so.6::(null) + 0x5eb93  [0x2af83b62bb93]\n[8] /usr/lib64/libstdc++.so.6::operator new(unsigned long) + 0x7d  [0x2af83b62c12d]\n[9] /usr/lib64/libstdc++.so.6::operator new[](unsigned long) + 0x9  [0x2af83b62c1c9]\n[10] overlapStoreBuild() [0x402e10]\n[11] /usr/lib64/libc.so.6::(null) + 0xf5  [0x2af83c025b15]\n[12] overlapStoreBuild() [0x403089]\n\nGDB:\n[/code]\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"toc-depth":5,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","editor":"source","theme":"darkly","page-layout":"full","code-background":true,"code-copy":true,"title-block-banner":true,"author":"Sam White","toc-title":"Contents","toc-location":"left","date":"2017-10-31 14:54:18+00:00","layout":"post","slug":"software-crash-olympia-oyster-genome-assembly-with-masurca-on-mox","title":"Software Crash - Olympia oyster genome assembly with Masurca on Mox","categories":["2017","Miscellaneous"],"tags":["assembly","hyak","MaSuRCA","mox","olympia oyster","Ostrea lurida"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}